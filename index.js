(()=>{"use strict";var e,t={568:()=>{const e=window.wp.blocks,t=window.React,a=JSON.parse('{"UU":"run/article","DD":"Articol","L1":"widgets","h_":"Exemplu bloc articol","uK":{"data":{"type":"object"},"meta":{"type":"object"}}}'),{useBlockProps:r,BlockIcon:n}=e.WordpressBlockEditor,{Placeholder:i,ComboboxControl:l,BaseControl:o,Button:s,Panel:c}=e.WordpressComponents,{useBlockProps:d}=e.WordpressBlockEditor;(0,e.registerBlockType)(a.UU,{title:a.DD,description:a.h_,category:a.L1,icon:"",attributes:a.uK,edit:function(e){const{attributes:{data:c,meta:d},setAttributes:u}=e,{id:h}=null!=c?c:{id:null},{avatar:m}=null!=d?d:{},[p,v]=(0,t.useState)([]),{blockSettings:{[a.UU]:w}}=window.wp.settings,y=(0,t.createElement)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.008-3.018a1.502 1.502 0 0 1 2.522 1.159v.024a1.44 1.44 0 0 1-1.493 1.418 1 1 0 0 0-1.037.999V14a1 1 0 1 0 2 0v-.539a3.44 3.44 0 0 0 2.529-3.256 3.502 3.502 0 0 0-7-.255 1 1 0 0 0 2 .076c.014-.398.187-.774.48-1.044Zm.982 7.026a1 1 0 1 0 0 2H12a1 1 0 1 0 0-2h-.01Z",clipRule:"evenodd"}));(0,t.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=new URL(w.apiUrl);w.extraQueryParams&&Object.keys(w.extraQueryParams).forEach((t=>e.searchParams.append(t,w.extraQueryParams[t])));const t=await fetch(e.toString(),{headers:{Authorization:"Bearer "+window.token}}),a=await t.json();f(a.data)}catch(e){v([])}},f=e=>{let t=[{value:null,label:"No selection"}];for(const r of e){var a;t.push(null!==(a=r.meta?.presenter?.dropdown)&&void 0!==a?a:{})}v(t)};return(0,t.createElement)(o,{...r()},(0,t.createElement)(i,{icon:(0,t.createElement)(n,{icon:y}),instructions:"Introduceti cel putin 3 caractere pentru a cauta in rezultate",label:"Articol"},(0,t.createElement)("div",{style:{width:"inherit"}},(0,t.createElement)("div",{style:{display:"flex"}},(0,t.createElement)("div",null,(0,t.createElement)("img",{src:m,alt:"",width:38,height:38,style:{minWidth:38,height:38}})),(0,t.createElement)("div",{style:{padding:"0 5px"}},(0,t.createElement)(l,{value:h,__next40pxDefaultSize:!0,hideLabelFromVision:!0,onChange:e=>{const t=p.filter((t=>t.value===e))[0];u({data:{id:e},meta:t})},options:p,onFilterValueChange:e=>(async e=>{try{const t=new URL(w.apiUrl);t.searchParams.append("filter[q]",e),w.extraQueryParams&&Object.keys(w.extraQueryParams).forEach((e=>t.searchParams.append(e,w.extraQueryParams[e])));const a=await fetch(t.toString(),{headers:{Authorization:"Bearer "+window.token}}),r=await a.json();f(r.data)}catch(e){v([])}})(e),__experimentalRenderItem:({item:e})=>(0,t.createElement)("div",{style:{display:"inline-flex",alignItems:"center"}},e?.avatar?.length>0&&(0,t.createElement)("img",{src:e.avatar,alt:"",width:"25",height:"25",style:{marginRight:10}}),(0,t.createElement)("span",null,e.label))})),h?.length>0&&(0,t.createElement)(s,{onClick:async()=>{if(h?.length>0)try{const e=new URL(w.apiUrl+"/"+h);w.extraQueryParams&&Object.keys(w.extraQueryParams).forEach((t=>e.searchParams.append(t,w.extraQueryParams[t])));const t=await fetch(e.toString(),{headers:{Authorization:"Bearer "+window.token}}),a=await t.json();a.id&&u({data:{id:a.id},meta:a.meta?.presenter?.dropdown})}catch(e){}},isPrimary:!0,variant:"primary",style:{height:38}},"Reload")))))},save:function(e){const{attributes:{data:a,meta:r}}=e,{id:n}=null!=a?a:{},{avatar:i,label:l}=null!=r?r:{};return(0,t.createElement)("div",{...d.save()},(0,t.createElement)("div",{style:{display:"flex"},id:"articleId-"+n},(0,t.createElement)("div",null,(0,t.createElement)("img",{src:i,alt:"",width:40,height:40})),(0,t.createElement)("span",null,l)))}})}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,a,n,i)=>{if(!a){var l=1/0;for(d=0;d<e.length;d++){for(var[a,n,i]=e[d],o=!0,s=0;s<a.length;s++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](a[s])))?a.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[l,o,s]=a,c=0;if(l.some((t=>0!==e[t]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(s)var d=s(r)}for(t&&t(a);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},a=globalThis.webpackChunkarticle=globalThis.webpackChunkarticle||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=r.O(void 0,[350],(()=>r(568)));n=r.O(n)})();